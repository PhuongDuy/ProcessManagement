@model ProcessManagement.Models.Process

@{
    ViewBag.Title = "CreateRole";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="row clearfix">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="card" style="padding-bottom:0">
            <div class="header">
                <h2>Create Role</h2>
            </div>
            <div class="body" style="padding-top:0">
                <form action="@Url.RouteUrl("GroupLocalizedDefault", new { controller = "process", action = "createrole"})" method="POST">
                    <input type="hidden" name="IdProcess" value="@Model.Id" />
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="cw-members-name" class="required">Role Name</label>
                                <span class="cw-input-icon">
                                    <input type="text" name="name" class="form-control cw-input-has-icon" id="rolename">
                                </span>

                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="cw-members-name" class="cw-required">Role Description</label>
                                <span class="cw-input-icon">
                                    <textarea name="description" class="form-control cw-input-has-icon" id="cw-description-name" rows="7"></textarea>
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div>
                                <button class="btn btn-primary-theme waves-effect">Add</button>
                                <button class="btn btn-default waves-effect" type="button">Back</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function RoleCheck() {
        $("#Status").html("Checking...");
        $.post("@Url.Action("CheckRoleNameAvailability", "Process")",
            {
                roledata: $("#rolename").val()
            },
            function(data) {
                if (data == 0) {
                    $("#Status").html('<font color="Green">Available !. you can take it.</font>');
                    $("#rolename").css("border-color", "Green");
                }
                else {
                    $("#Status").html('<font color="Red">That name is taken.Try another</font>');
                    $("#rolename").css("border-color", "Red");
                }
            }
        )
    }
</script>